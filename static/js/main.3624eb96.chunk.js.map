{"version":3,"sources":["Api/Api.ts","Redux/authReducer.ts","Redux/ChatReducer.ts","Components/Main/Chat.tsx","Redux/Store.ts","Selectors.ts","Components/Header/Header.tsx","validation.ts","Components/Main/Login.tsx","Components/Main/Registration.tsx","Components/Main/Main.tsx","MyApp.tsx","App.tsx","index.tsx"],"names":["instance","axios","create","withCredentials","baseURL","authMe","get","then","data","initialState","login","isAuth","initApp","error","success","ISAUTH","INITAPP","ERROR","SUCCESS","actions","type","isInit","authThunk","dispatch","responseCode","finally","loginThunk","userData","post","response","message","logoutThunk","delete","RegistrationThunk","items","MESSAGES","socket","messages","rootReducer","combineReducers","auth","state","action","chat","store","createStore","applyMiddleware","thunk","getAuthReducer","getChatMessages","Header","useDispatch","useSelector","className","cn","onClick","to","Chat","emptyDIV","useRef","useState","updMessage","useEffect","io","on","console","log","current","scrollIntoView","map","me","user","ref","onSubmit","e","preventDefault","value","placeholder","onChange","currentTarget","length","emit","maxLength30","Login","initialValues","password","values","id","name","validate","Registration","registration","a","repeatPassword","resetForm","Main","path","MyApp","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3624eb96.chunk.js","sourcesContent":["import { valuesRegistation } from './../Components/Main/Main';\r\nimport axios from \"axios\";\r\n\r\ntype auth = {\r\n    responseCode: number\r\n    login: string\r\n}\r\ntype responseCode = {\r\n    responseCode: number\r\n    message:string\r\n}\r\n\r\nexport type loginType = {\r\n    login:string\r\n    password:string\r\n}\r\n\r\n\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://chat-onlineyanky.herokuapp.com/',\r\n  });\r\n\r\nexport const authMe = () => instance.get<auth>('auth/me').then( data => data.data)\r\nexport const login = (data:loginType) => instance.post<responseCode>('auth/login', data).then( data => data.data)\r\nexport const logout = () => instance.delete<responseCode>('auth/logout').then( data => data.data)\r\nexport const registration = (data:valuesRegistation) => instance.post<responseCode>('/auth/registration', data).then( data => data.data)","import { valuesRegistation } from './../Components/Main/Main';\r\nimport { Dispatch } from \"redux\"\r\nimport { authMe, login, loginType, logout, registration } from \"../Api/Api\"\r\nimport { InferActions } from \"./Store\"\r\n\r\nconst initialState = {\r\n    login:'',\r\n    isAuth:false,\r\n    initApp:false,\r\n    error:'',\r\n    success:'',\r\n}\r\n\r\nconst ISAUTH = 'IS-AUTH'\r\n\r\nconst INITAPP = 'INIT-APP'\r\n\r\nconst ERROR = 'ERROR'\r\n\r\nconst SUCCESS = 'SUCCESS'\r\n\r\ntype initialStateType = typeof initialState\r\n\r\nexport default  function authReducer (state:initialStateType=initialState, action:Actions):initialStateType {\r\n    switch (action.type){\r\n        case ISAUTH:\r\n            return{\r\n                ...state,\r\n                login:action.login,\r\n                isAuth:action.isAuth,\r\n                error:''\r\n            }\r\n        case INITAPP:\r\n            return{\r\n                ...state,\r\n                initApp:action.isInit\r\n            }    \r\n        case ERROR:\r\n            return{\r\n                ...state,\r\n                error:action.error,\r\n                success:''\r\n            }    \r\n        case SUCCESS:\r\n            return{\r\n                ...state,\r\n                success:action.success,\r\n                error:''\r\n            }    \r\n        default:\r\n        return state\r\n    }\r\n\r\n}\r\n\r\ntype Actions = InferActions<typeof actions>\r\n\r\nexport const actions = {\r\n    authAc:(login:string, isAuth:boolean)=>({type:ISAUTH, login, isAuth} as const),\r\n    initAppAc:(isInit:boolean)=>({type:INITAPP, isInit} as const),\r\n    errorAc:(error:string)=>({type:ERROR, error} as const),\r\n    successAc:(success:string)=>({type:SUCCESS, success} as const),\r\n}\r\n\r\n\r\nexport const authThunk = (dispatch:Dispatch<Actions>) => {\r\n    authMe()\r\n    .then(data=> data.responseCode === 1 && dispatch(actions.authAc(data.login, true)))\r\n    .finally(()=>dispatch(actions.initAppAc(true)))\r\n}\r\n\r\nexport const loginThunk = (userData:loginType) => (dispatch:Dispatch<Actions>) => {\r\n    login(userData)\r\n    .then(response=>{\r\n        response.responseCode === 0 ? dispatch(actions.errorAc(response.message)):\r\n        authMe()\r\n        .then(data=>{\r\n            data.responseCode === 1 && dispatch(actions.authAc(data.login, true))\r\n        } )\r\n    })\r\n    \r\n}\r\n\r\nexport const logoutThunk =(dispatch:Dispatch<Actions>) => {\r\n    logout()\r\n    .then(()=>{\r\n        authMe()\r\n        .then(data=> data.responseCode === 0 && dispatch(actions.authAc(data.login, false)))\r\n    })\r\n    \r\n}\r\n\r\nexport const RegistrationThunk =(userData:valuesRegistation)=>(dispatch:Dispatch<Actions>) => {\r\n    registration(userData)\r\n    .then((data)=>{data.responseCode === 1 ? dispatch(actions.successAc(data.message)) : dispatch(actions.errorAc(data.message))})\r\n    \r\n}","import { Dispatch } from \"redux\"\r\nimport { authMe, login, loginType, logout } from \"../Api/Api\"\r\nimport { InferActions } from \"./Store\"\r\n\r\ntype user = {\r\n    message:string\r\n    user:string\r\n}\r\n\r\nconst initialState = {\r\n    items:[] as Array<user>\r\n}\r\n\r\ntype initialStateType = typeof initialState\r\n\r\nconst MESSAGES = 'GET-MESSAGES'\r\n\r\nexport default  function chatReducer (state:initialStateType=initialState, action:Actions):initialStateType {\r\n    switch (action.type){\r\n        case MESSAGES:\r\n            return{\r\n                ...state,\r\n                items:[...action.messages]\r\n            }\r\n        default:\r\n        return state\r\n    }\r\n\r\n}\r\n\r\ntype Actions = InferActions<typeof actions>\r\n\r\nexport const actions = {\r\n    messagesAc:(messages:Array<user>)=>({type:MESSAGES, messages} as const),\r\n}\r\n","import { useEffect, useRef, useState } from \"react\"\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport { io, Socket } from \"socket.io-client\";\r\nimport { actions } from \"../../Redux/ChatReducer\";\r\nimport { getAuthReducer, getChatMessages } from \"../../Selectors\"\r\nimport cn from 'classnames'\r\n\r\nlet socket:Socket;\r\n\r\nconst Chat = ()=>{\r\n    const messageLength = 150\r\n    const emptyDIV = useRef<HTMLDivElement | null>(null)\r\n    const [message, updMessage] = useState('')\r\n    const dispatch = useDispatch()\r\n    const messages = useSelector(getChatMessages)\r\n    useEffect(()=>{\r\n            socket = io(\"https://chat-onlineyanky.herokuapp.com/\", {withCredentials:true});\r\n            socket.on('messages', (data)=>{\r\n                console.log(data)\r\n                dispatch(actions.messagesAc(data))\r\n                emptyDIV.current?.scrollIntoView()\r\n        })\r\n    },[])\r\n\r\n    const auth = useSelector(getAuthReducer)\r\n\r\n    const SendMessage = ()=>{\r\n        if (message && message.length < messageLength) {\r\n            socket.emit('message', message)\r\n            updMessage('')\r\n        }    \r\n    }\r\n\r\n    const updateMessage = (value:string) =>{\r\n        if (value.length < messageLength) {\r\n            updMessage(value)\r\n        }\r\n    }\r\n\r\n    return(\r\n        <div className=\"chat\">\r\n            <div className=\"chat_title\">Online chat</div>\r\n            <div className=\"chat_messages\">\r\n            {messages.map(message=><div>\r\n                <div className={cn(\"user\", {me:auth.login === message.user})}><span>{message.user}</span></div>\r\n                <div className={cn(\"message\", {me:auth.login === message.user})}><span>{message.message}</span></div>\r\n                </div>)}\r\n            <div ref={emptyDIV}></div>\r\n            </div>\r\n            <form onSubmit={(e)=>e.preventDefault()}>\r\n            <div className=\"chat_footer\">\r\n                <input value={message} placeholder='Текст сообщения' onChange={(e)=>updateMessage(e.currentTarget.value)}></input>\r\n                <button onClick={SendMessage}>Отправить</button>\r\n            </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Chat","import { createStore, combineReducers, applyMiddleware } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport authReducer from './authReducer';\r\nimport chatReducer from './ChatReducer';\r\n\r\n\r\n\r\nconst rootReducer = combineReducers({\r\n    auth: authReducer,\r\n    chat:chatReducer\r\n})\r\n\r\ntype reducer = typeof rootReducer\r\nexport type AppState = ReturnType<reducer>\r\n\r\ntype ActionTypes<T> = T extends { [key: string]: infer U } ? U : never\r\nexport type InferActions<T extends {[key:string]:(...args:any[])=>any}> = ReturnType<ActionTypes<T>>\r\n\r\nconst store = createStore(rootReducer, applyMiddleware(thunk))\r\n\r\nexport default store","import { AppState } from \"./Redux/Store\";\r\n\r\nexport const getAuthReducer = (state:AppState) => state.auth\r\n\r\nexport const getChatMessages = (state:AppState) => state.chat.items","import { Link } from 'react-router-dom'\r\nimport '../css/header.css'\r\nimport cn from 'classnames'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { getAuthReducer } from '../../Selectors'\r\nimport { actions, logoutThunk } from '../../Redux/authReducer'\r\n\r\nconst Header = ()=>{\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const auth = useSelector(getAuthReducer)\r\n\r\n    return(\r\n        <header className={cn('header','clearfix')}>\r\n        {auth.isAuth ? <div className=\"logout\"><div>{auth.login}</div><div><button onClick={()=>dispatch(logoutThunk)}>Logout</button></div></div> :\r\n         <div className=\"autorization\">\r\n         <Link onClick={()=>dispatch(actions.errorAc(''))} to='/login'><span >Sign in</span></Link>\r\n         <Link onClick={()=>dispatch(actions.errorAc(''))} to='/registration'><span>Sign up</span></Link>\r\n          </div>\r\n        }\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header","import { valuesLogin } from \"./Components/Main/Main\";\r\n\r\nexport function maxLength30(value:string) {\r\n    let error;\r\n    if (value.length > 30) {\r\n      error = 'Максимальная длина поля 30 символов';\r\n    }\r\n    return error;\r\n  }","import { Field, Form, Formik } from \"formik\"\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport { loginThunk } from \"../../Redux/authReducer\"\r\nimport { getAuthReducer } from \"../../Selectors\"\r\nimport { maxLength30 } from \"../../validation\"\r\nimport { valuesLogin } from \"./Main\"\r\n\r\nconst Login = ()=>{\r\n\r\n    const login = (values:valuesLogin)=>{\r\n      dispatch(loginThunk(values))\r\n    }\r\n\r\n    const auth = useSelector(getAuthReducer)\r\n\r\n    const dispatch = useDispatch()\r\n    return(\r\n        <div className='auth'>\r\n          <div className='auth_title'>Sign in</div>\r\n          \r\n        <Formik initialValues={{login: '',password: ''}}\r\n        onSubmit={(values: valuesLogin) => {login(values)}}>\r\n        <Form>\r\n          <Field id=\"login\" name=\"login\" placeholder=\"login\" validate={maxLength30}/>\r\n\r\n          <Field id=\"password\" name=\"password\" placeholder=\"password\" validate={maxLength30}/>\r\n\r\n          <button type=\"submit\">Submit</button>\r\n        </Form>\r\n      </Formik>\r\n      <div className=\"error\">{auth.error && <span>{auth.error}</span>}</div>\r\n     \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login","import { Field, Form, Formik } from \"formik\"\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport { RegistrationThunk } from \"../../Redux/authReducer\"\r\nimport { getAuthReducer } from \"../../Selectors\"\r\nimport { maxLength30 } from \"../../validation\"\r\nimport { valuesRegistation } from \"./Main\"\r\n\r\nconst Registration = ()=>{\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const auth = useSelector(getAuthReducer)\r\n    \r\n    const registration = async (values:valuesRegistation)=>{\r\n      await dispatch(RegistrationThunk(values))\r\n    }\r\n\r\n    return(\r\n        <div className='auth'>\r\n        <div className='auth_title'>Sign up</div>\r\n        <Formik initialValues={{login: '',password: '',repeatPassword:''}}\r\n        onSubmit={(values: valuesRegistation, a: any) => {registration(values).then(()=>a.resetForm())}}>\r\n        <Form>\r\n          <Field id=\"login\" name=\"login\" placeholder=\"login\" validate={maxLength30}/>\r\n\r\n          <Field id=\"password\" name=\"password\" placeholder=\"password\" validate={maxLength30}/>\r\n\r\n          <Field id=\"repeatPassword\" name=\"repeatPassword\" placeholder=\"repeat password\" validate={maxLength30}/>\r\n\r\n          <button type=\"submit\">Submit</button>\r\n        </Form>\r\n      </Formik>\r\n      {<div className=\"error\"><span>{auth.error}</span></div>} {<div className=\"success\"><span>{auth.success}</span></div>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Registration","import { Formik, Form, Field } from \"formik\"\r\nimport { useEffect, useState } from \"react\"\r\nimport { Switch, Route } from \"react-router-dom\"\r\nimport '../css/main.css'\r\nimport { io, Socket } from \"socket.io-client\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { authThunk, loginThunk, logoutThunk } from \"../../Redux/authReducer\";\r\nimport { getAuthReducer, getChatMessages } from \"../../Selectors\";\r\nimport { actions } from \"../../Redux/ChatReducer\";\r\nimport Chat from \"./Chat\";\r\nimport Login from \"./Login\";\r\nimport Registration from \"./Registration\";\r\n\r\nexport interface valuesLogin {\r\n    login:string\r\n    password:string\r\n}\r\n\r\nexport interface valuesRegistation extends valuesLogin  {\r\n    repeatPassword:string\r\n}\r\n    \r\n\r\n    const Main = ()=>{\r\n        \r\n    \r\n    const auth = useSelector(getAuthReducer)\r\n        \r\n        \r\n    return(\r\n        \r\n        <main>  \r\n            {auth.isAuth ? <Chat/> :\r\n         <Switch>\r\n             <Route path='/login'><Login/></Route>\r\n             <Route path='/registration'><Registration/></Route>\r\n         </Switch>\r\n         }\r\n        </main>\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default Main","import React, { useEffect } from 'react';\nimport './App.css';\nimport Header from './Components/Header/Header';\nimport Main from './Components/Main/Main';\nimport {BrowserRouter} from 'react-router-dom'\nimport { Provider, useDispatch, useSelector } from 'react-redux';\nimport store from './Redux/Store';\nimport { getAuthReducer } from './Selectors';\nimport { authThunk } from './Redux/authReducer';\n\nfunction MyApp() {\n\n  const dispatch = useDispatch()\n        useEffect(()=>{    \n            dispatch(authThunk)\n        },[])\n\n  const auth = useSelector(getAuthReducer)\n \n  return (\n    <div>\n    {auth.initApp &&\n    <div className=\"App\">\n      <Header/>\n      <Main/>\n    </div>\n    }\n    </div>\n  );\n}\n\n\n\n\nexport default MyApp;","import React from 'react';\nimport './App.css';\nimport {BrowserRouter, HashRouter} from 'react-router-dom'\nimport { Provider } from 'react-redux';\nimport store from './Redux/Store';\nimport MyApp from './MyApp';\n\nfunction App() {\n\n \n  return (\n    <HashRouter>\n    <Provider store={store}>\n      <MyApp/>\n    </Provider>\n    </HashRouter>\n  );\n}\n\n\n\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}